# VoiceHelper AI - 统一配置文件
# 这是项目的唯一配置文件，包含所有服务的配置

# ================================
# 🚀 基础环境配置
# ================================
ENV=development
NODE_ENV=development
FLASK_ENV=development

# ================================
# 🤖 AI 模型配置 (多模型支持)
# ================================

# 主要使用的模型 (可选，不设置则自动选择最优模型)
PRIMARY_MODEL=glm-4-flash

# 豆包大模型 (字节跳动) - 🥈 备选方案
# 获取方式: https://console.volcengine.com/
# 成本: 2.8元/百万tokens (性价比较好)
ARK_API_KEY=1a208824-2b22-4a7f-ac89-49c4b1dcc5a7
ARK_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
ARK_MODEL=doubao-pro-4k

# GLM-4 (智谱AI) - 🥇 推荐首选，成本最低
# 获取方式: https://open.bigmodel.cn/
# 成本: 0.1元/百万tokens (最便宜，已配置可用)
GLM_API_KEY=fc37bd957e5c4e669c748219881161b2.vnvJq6vsQIKZaNS9
GLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4

# 通义千问 (阿里云) - 企业级选择
# 获取方式: https://dashscope.console.aliyun.com/
# 成本: 8元/百万tokens
QWEN_API_KEY=your-qwen-api-key-here
QWEN_BASE_URL=https://dashscope.aliyuncs.com/api/v1

# 文心一言 (百度) - 中文优化
# 获取方式: https://console.bce.baidu.com/qianfan/
# 成本: 2.8元/百万tokens
ERNIE_API_KEY=your-ernie-access-token-here
ERNIE_BASE_URL=https://aip.baidubce.com/rpc/2.0/ai_custom/v1

# 混元 (腾讯云) - 腾讯生态
# 获取方式: https://console.cloud.tencent.com/hunyuan
# 成本: 3元/百万tokens
HUNYUAN_API_KEY=your-hunyuan-api-key-here
HUNYUAN_BASE_URL=https://hunyuan.tencentcloudapi.com

# OpenAI API (备用/对比)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1

# ================================
# 🎤 语音服务配置
# ================================
# Azure Speech Services (语音转文字/文字转语音)
AZURE_SPEECH_KEY=your-azure-speech-key-here
AZURE_SPEECH_REGION=eastus

# ================================
# 🔍 Embedding 配置
# ================================
EMBEDDING_MODEL=bge-m3
EMBEDDING_DIMENSION=1024

# 本地存储配置 (替代Milvus)
STORAGE_PATH=/app/data

# ================================
# 🌐 服务端口配置
# ================================

# 应用服务端口
FRONTEND_PORT=3000
PORTAL_PORT=3002
GATEWAY_PORT=8080
ALGO_PORT=8000
VOICE_PORT=8001
ADMIN_PORT=5001

# 数据库端口
POSTGRES_PORT=5432
REDIS_PORT=6379
NEO4J_HTTP_PORT=7474
NEO4J_BOLT_PORT=7687

# ================================
# 🗄️ 数据库配置
# ================================

# PostgreSQL配置
POSTGRES_HOST=postgres
POSTGRES_DB=voicehelper
POSTGRES_USER=voicehelper
POSTGRES_PASSWORD=voicehelper123
DATABASE_URL=postgresql://voicehelper:voicehelper123@postgres:5432/voicehelper

# Redis配置
REDIS_HOST=redis
REDIS_PASSWORD=redis123
REDIS_URL=redis://:redis123@redis:6379/0

# Neo4j配置 (图数据库)
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j123

# ================================
# 🔐 安全配置
# ================================

# JWT配置
JWT_SECRET=your-jwt-secret-key-change-in-production-environment
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24
JWT_EXPIRES_IN=24h

# CORS配置
CORS_ORIGINS=http://localhost:3000,http://localhost:3002,http://localhost:5001

# ================================
# 🚀 应用配置
# ================================

# 前端配置 (容器内部使用服务名，外部使用localhost)
NEXT_PUBLIC_API_URL=http://gateway:8080
NEXT_PUBLIC_WS_URL=ws://gateway:8080
NEXT_PUBLIC_VOICE_WS_URL=ws://voice-service:8001
NEXT_PUBLIC_APP_NAME=VoiceHelper AI
NEXT_PUBLIC_APP_VERSION=1.9.0

# 功能开关
ENABLE_VOICE_PROCESSING=true
ENABLE_MULTIMODAL=true
ENABLE_GRAPH_RAG=true
ENABLE_AGENT_REASONING=true

# 日志配置
LOG_LEVEL=info

# Python 运行时配置
PYTHONPATH=/app
PYTHONUNBUFFERED=1

# Go 运行时配置
GIN_MODE=release
ALGO_SERVICE_URL=http://algo-service:8000
ADMIN_SECRET_KEY=b29d40c1ea82b3331a76b7479526e67fcbf7e5d09719ddf8e6c607dae81756fa

# Node.js 运行时配置
HOSTNAME=0.0.0.0

# ================================
# 📊 模型选择建议
# ================================

# 🥇 成本优化方案 (推荐个人/初创):
# PRIMARY_MODEL=doubao-lite-4k
# 只配置: ARK_API_KEY + GLM_API_KEY
# 月成本: ~1.1元 (100万tokens)

# 🥈 性能平衡方案 (推荐生产):
# PRIMARY_MODEL=doubao-pro-4k  
# 只配置: ARK_API_KEY + GLM_API_KEY
# 月成本: ~3.0元 (100万tokens)

# 🥉 企业全功能方案:
# PRIMARY_MODEL=doubao-pro-4k
# 配置: ARK_API_KEY + QWEN_API_KEY + GLM_API_KEY
# 月成本: ~5.0元 (100万tokens)

# ================================
# 💰 成本对比 (每百万tokens)
# ================================
# GLM-4 Flash:     0.1元  (最便宜) 🥇 推荐
# GLM-4 Air:       1.0元  (平衡性能)
# 豆包 Lite:       0.9元  (性价比高)
# 豆包 Pro:        2.8元  (备选)
# 文心 Lite:       2.8元
# 混元 Lite:       3元
# 通义千问 Turbo:  8元
# GLM-4 Plus:      10元
# OpenAI GPT-4:    ~200元 (对比)
# ================================

# 🎯 快速开始:
# 1. 当前已配置GLM-4-Flash (最便宜，0.1元/百万tokens)
# 2. 直接运行: docker-compose -f docker-compose.local.yml up -d
# 3. 测试: curl http://localhost:8000/health
# 4. 可选: 获取其他API密钥作为备用
# 5. GLM-4密钥: https://open.bigmodel.cn/ (已配置)
# 6. 豆包密钥: https://console.volcengine.com/ (备用)
