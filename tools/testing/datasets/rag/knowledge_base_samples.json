{
  "metadata": {
    "name": "RAG知识库测试数据集",
    "version": "1.0.0",
    "description": "用于测试RAG检索准确性和相关性的知识库数据集",
    "created_at": "2025-01-21",
    "total_documents": 200,
    "domains": ["technology", "business", "customer_service", "product_info"],
    "languages": ["zh-CN", "en-US"]
  },
  "document_categories": {
    "product_documentation": {
      "description": "产品功能和使用说明",
      "document_count": 50,
      "avg_length": 800,
      "complexity": "medium"
    },
    "technical_specifications": {
      "description": "技术规格和API文档",
      "document_count": 40,
      "avg_length": 1200,
      "complexity": "high"
    },
    "faq_content": {
      "description": "常见问题解答",
      "document_count": 60,
      "avg_length": 300,
      "complexity": "low"
    },
    "business_policies": {
      "description": "商业政策和条款",
      "document_count": 30,
      "avg_length": 1000,
      "complexity": "medium"
    },
    "troubleshooting_guides": {
      "description": "故障排除指南",
      "document_count": 20,
      "avg_length": 600,
      "complexity": "medium"
    }
  },
  "sample_documents": [
    {
      "id": "doc_001",
      "category": "product_documentation",
      "title": "智能聊天机器人功能介绍",
      "content": "我们的智能聊天机器人采用先进的自然语言处理技术，支持多轮对话和上下文理解。主要功能包括：1) 意图识别：准确理解用户需求，识别率达95%以上；2) 情感分析：实时分析用户情感状态，提供个性化回应；3) 知识问答：基于企业知识库提供准确答案；4) 多语言支持：支持中文、英文等20多种语言；5) 语音交互：支持语音输入和语音回复；6) 集成能力：可与CRM、ERP等系统无缝集成。系统采用云原生架构，支持弹性扩容，可处理高并发请求。",
      "metadata": {
        "author": "产品团队",
        "created_date": "2025-01-15",
        "last_updated": "2025-01-20",
        "tags": ["功能介绍", "产品特性", "技术优势"],
        "language": "zh-CN",
        "word_count": 180
      },
      "embeddings_info": {
        "chunk_strategy": "sentence_based",
        "chunk_count": 3,
        "overlap_size": 50
      }
    },
    {
      "id": "doc_002",
      "category": "technical_specifications",
      "title": "API接口文档 - 对话管理",
      "content": "对话管理API提供完整的对话生命周期管理功能。\n\n**创建对话**\nPOST /api/v1/conversations\n请求参数：\n- user_id (string): 用户唯一标识\n- channel (string): 渠道类型 (web/mobile/voice)\n- context (object): 初始上下文信息\n\n响应格式：\n```json\n{\n  \"conversation_id\": \"conv_123456\",\n  \"status\": \"active\",\n  \"created_at\": \"2025-01-21T10:00:00Z\"\n}\n```\n\n**发送消息**\nPOST /api/v1/conversations/{conversation_id}/messages\n请求参数：\n- message (string): 用户消息内容\n- message_type (string): 消息类型 (text/voice/image)\n- metadata (object): 消息元数据\n\n**获取对话历史**\nGET /api/v1/conversations/{conversation_id}/messages\n查询参数：\n- limit (int): 返回消息数量，默认20\n- offset (int): 偏移量，用于分页\n- order (string): 排序方式 (asc/desc)",
      "metadata": {
        "author": "技术团队",
        "created_date": "2025-01-10",
        "last_updated": "2025-01-18",
        "tags": ["API文档", "对话管理", "接口规范"],
        "language": "zh-CN",
        "word_count": 280
      },
      "embeddings_info": {
        "chunk_strategy": "section_based",
        "chunk_count": 4,
        "overlap_size": 100
      }
    },
    {
      "id": "doc_003",
      "category": "faq_content",
      "title": "常见问题 - 系统集成",
      "content": "Q: 如何将聊天机器人集成到现有网站？\nA: 我们提供多种集成方式：1) JavaScript SDK：只需几行代码即可集成；2) iframe嵌入：适合快速部署；3) API集成：适合深度定制。详细集成文档请参考开发者指南。\n\nQ: 支持哪些第三方系统集成？\nA: 目前支持Salesforce、HubSpot、Zendesk、微信、钉钉等100+第三方系统。如需集成其他系统，请联系技术支持。\n\nQ: 数据安全如何保障？\nA: 我们采用企业级安全措施：1) 数据传输采用HTTPS加密；2) 数据存储采用AES-256加密；3) 支持私有化部署；4) 通过ISO27001、SOC2等安全认证。\n\nQ: 系统性能如何？\nA: 系统响应时间<200ms，支持10万+并发用户，99.9%可用性保证。采用分布式架构，支持弹性扩容。",
      "metadata": {
        "author": "客服团队",
        "created_date": "2025-01-12",
        "last_updated": "2025-01-19",
        "tags": ["常见问题", "系统集成", "安全性", "性能"],
        "language": "zh-CN",
        "word_count": 220
      },
      "embeddings_info": {
        "chunk_strategy": "qa_based",
        "chunk_count": 4,
        "overlap_size": 0
      }
    },
    {
      "id": "doc_004",
      "category": "business_policies",
      "title": "服务等级协议(SLA)",
      "content": "本服务等级协议(SLA)规定了智能聊天机器人服务的性能标准和保障措施。\n\n**可用性保证**\n- 基础版：99.5%月度可用性\n- 专业版：99.9%月度可用性\n- 企业版：99.99%月度可用性\n\n**性能指标**\n- API响应时间：P95 < 200ms\n- 对话响应时间：P95 < 2秒\n- 并发处理能力：基础版1000QPS，专业版5000QPS，企业版20000QPS\n\n**补偿政策**\n如未达到承诺的可用性标准，将按以下标准提供服务补偿：\n- 可用性99.0%-99.5%：补偿10%月费\n- 可用性95.0%-99.0%：补偿25%月费\n- 可用性<95.0%：补偿50%月费\n\n**技术支持**\n- 基础版：工作日9:00-18:00邮件支持\n- 专业版：7×24小时邮件+电话支持\n- 企业版：7×24小时专属技术支持，4小时响应时间",
      "metadata": {
        "author": "商务团队",
        "created_date": "2025-01-08",
        "last_updated": "2025-01-16",
        "tags": ["SLA", "服务保障", "补偿政策", "技术支持"],
        "language": "zh-CN",
        "word_count": 250
      },
      "embeddings_info": {
        "chunk_strategy": "section_based",
        "chunk_count": 4,
        "overlap_size": 50
      }
    },
    {
      "id": "doc_005",
      "category": "troubleshooting_guides",
      "title": "语音功能故障排除",
      "content": "语音功能常见问题及解决方案：\n\n**问题1：语音识别不准确**\n可能原因：\n- 环境噪音过大\n- 麦克风权限未开启\n- 网络连接不稳定\n解决方案：\n1. 确保在安静环境下使用\n2. 检查浏览器麦克风权限设置\n3. 测试网络连接稳定性\n4. 尝试更换浏览器或设备\n\n**问题2：语音合成无声音**\n可能原因：\n- 设备音量设置过低\n- 浏览器音频被禁用\n- 音频格式不支持\n解决方案：\n1. 检查设备音量设置\n2. 确认浏览器音频权限\n3. 更新浏览器到最新版本\n4. 清除浏览器缓存\n\n**问题3：语音延迟过高**\n可能原因：\n- 网络延迟\n- 服务器负载过高\n- 音频处理复杂度高\n解决方案：\n1. 检查网络连接质量\n2. 选择就近的服务节点\n3. 降低音频质量设置\n4. 联系技术支持优化配置",
      "metadata": {
        "author": "技术支持团队",
        "created_date": "2025-01-14",
        "last_updated": "2025-01-20",
        "tags": ["故障排除", "语音功能", "问题解决", "技术支持"],
        "language": "zh-CN",
        "word_count": 280
      },
      "embeddings_info": {
        "chunk_strategy": "problem_based",
        "chunk_count": 3,
        "overlap_size": 30
      }
    }
  ],
  "query_test_cases": [
    {
      "id": "query_001",
      "query": "聊天机器人支持哪些语言？",
      "expected_documents": ["doc_001"],
      "expected_answer": "支持中文、英文等20多种语言",
      "query_type": "factual",
      "difficulty": "easy",
      "context": "用户询问产品功能"
    },
    {
      "id": "query_002",
      "query": "如何创建一个新的对话？",
      "expected_documents": ["doc_002"],
      "expected_answer": "使用POST /api/v1/conversations接口，需要提供user_id、channel和context参数",
      "query_type": "procedural",
      "difficulty": "medium",
      "context": "开发者查询API使用方法"
    },
    {
      "id": "query_003",
      "query": "系统可用性保证是多少？",
      "expected_documents": ["doc_004"],
      "expected_answer": "基础版99.5%，专业版99.9%，企业版99.99%月度可用性",
      "query_type": "factual",
      "difficulty": "easy",
      "context": "客户询问服务保障"
    },
    {
      "id": "query_004",
      "query": "语音识别不准确怎么办？",
      "expected_documents": ["doc_005"],
      "expected_answer": "检查环境噪音、麦克风权限、网络连接，确保在安静环境下使用",
      "query_type": "troubleshooting",
      "difficulty": "medium",
      "context": "用户遇到技术问题"
    },
    {
      "id": "query_005",
      "query": "支持集成哪些CRM系统？",
      "expected_documents": ["doc_003"],
      "expected_answer": "支持Salesforce、HubSpot、Zendesk等100+第三方系统",
      "query_type": "factual",
      "difficulty": "easy",
      "context": "企业客户询问集成能力"
    },
    {
      "id": "query_006",
      "query": "API响应时间标准是什么？",
      "expected_documents": ["doc_004"],
      "expected_answer": "P95响应时间小于200ms",
      "query_type": "factual",
      "difficulty": "easy",
      "context": "技术人员询问性能指标"
    }
  ],
  "complex_queries": [
    {
      "id": "complex_001",
      "query": "我想了解聊天机器人的语音功能和API集成方式",
      "expected_documents": ["doc_001", "doc_002", "doc_003"],
      "expected_answer": "语音功能支持语音输入和回复，API集成提供JavaScript SDK、iframe嵌入和API集成三种方式",
      "query_type": "multi_aspect",
      "difficulty": "high",
      "context": "用户需要综合信息"
    },
    {
      "id": "complex_002",
      "query": "如果系统可用性达不到99.9%会有什么补偿？",
      "expected_documents": ["doc_004"],
      "expected_answer": "根据实际可用性提供不同比例的月费补偿：99.0%-99.5%补偿10%，95.0%-99.0%补偿25%，<95.0%补偿50%",
      "query_type": "conditional",
      "difficulty": "medium",
      "context": "客户关心服务保障"
    },
    {
      "id": "complex_003",
      "query": "语音功能出现问题时的完整排查流程是什么？",
      "expected_documents": ["doc_005"],
      "expected_answer": "根据具体问题类型进行排查：识别不准确检查环境和权限，无声音检查音量和浏览器设置，延迟高检查网络和服务配置",
      "query_type": "procedural_complex",
      "difficulty": "high",
      "context": "技术支持需要详细流程"
    }
  ],
  "edge_cases": [
    {
      "id": "edge_001",
      "query": "价格多少钱？",
      "expected_documents": [],
      "expected_answer": "抱歉，文档中没有找到具体的价格信息，建议联系销售团队获取报价",
      "query_type": "missing_info",
      "difficulty": "medium",
      "context": "查询文档中不存在的信息"
    },
    {
      "id": "edge_002",
      "query": "asdfghjkl",
      "expected_documents": [],
      "expected_answer": "抱歉，我没有理解您的问题，请用清晰的语言描述您的需求",
      "query_type": "gibberish",
      "difficulty": "low",
      "context": "无意义输入"
    },
    {
      "id": "edge_003",
      "query": "机器人能做饭吗？",
      "expected_documents": [],
      "expected_answer": "我是智能聊天机器人，专门处理对话和信息查询，无法进行物理操作如做饭",
      "query_type": "out_of_scope",
      "difficulty": "medium",
      "context": "超出系统能力范围的询问"
    }
  ],
  "evaluation_metrics": {
    "retrieval_metrics": {
      "precision_at_k": {
        "k_values": [1, 3, 5],
        "target": ">0.8",
        "description": "检索精确度"
      },
      "recall_at_k": {
        "k_values": [1, 3, 5],
        "target": ">0.7",
        "description": "检索召回率"
      },
      "mean_reciprocal_rank": {
        "target": ">0.8",
        "description": "平均倒数排名"
      },
      "ndcg_at_k": {
        "k_values": [1, 3, 5],
        "target": ">0.8",
        "description": "归一化折损累积增益"
      }
    },
    "generation_metrics": {
      "answer_relevance": {
        "target": ">0.85",
        "description": "答案相关性评分"
      },
      "answer_correctness": {
        "target": ">0.8",
        "description": "答案正确性评分"
      },
      "faithfulness": {
        "target": ">0.9",
        "description": "答案忠实度（基于检索文档）"
      },
      "context_utilization": {
        "target": ">0.75",
        "description": "上下文利用率"
      }
    },
    "performance_metrics": {
      "retrieval_latency": {
        "target": "<100ms",
        "description": "检索延迟"
      },
      "generation_latency": {
        "target": "<2s",
        "description": "生成延迟"
      },
      "end_to_end_latency": {
        "target": "<2.5s",
        "description": "端到端延迟"
      }
    }
  },
  "test_protocol": {
    "setup": [
      "1. 初始化向量数据库",
      "2. 加载文档并生成embeddings",
      "3. 构建检索索引",
      "4. 初始化生成模型"
    ],
    "execution": [
      "1. 输入测试查询",
      "2. 执行向量检索",
      "3. 生成答案",
      "4. 记录性能指标"
    ],
    "evaluation": [
      "1. 计算检索指标",
      "2. 评估生成质量",
      "3. 分析错误案例",
      "4. 生成评估报告"
    ]
  },
  "data_preprocessing": {
    "text_cleaning": [
      "移除HTML标签",
      "标准化空白字符",
      "处理特殊字符",
      "统一编码格式"
    ],
    "chunking_strategies": {
      "sentence_based": "按句子分割，保持语义完整性",
      "section_based": "按章节分割，适合结构化文档",
      "qa_based": "按问答对分割，适合FAQ内容",
      "problem_based": "按问题分割，适合故障排除指南"
    },
    "embedding_generation": {
      "model": "text-embedding-ada-002",
      "dimension": 1536,
      "batch_size": 100,
      "max_tokens": 8191
    }
  }
}
