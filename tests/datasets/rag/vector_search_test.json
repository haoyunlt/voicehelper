{
  "metadata": {
    "name": "向量检索测试数据集",
    "version": "1.0.0",
    "description": "用于测试向量相似度搜索准确性和性能的数据集",
    "created_at": "2025-01-21",
    "total_vectors": 1000,
    "vector_dimension": 1536,
    "similarity_metrics": ["cosine", "euclidean", "dot_product"]
  },
  "test_scenarios": {
    "exact_match": {
      "description": "完全匹配查询",
      "test_count": 50,
      "expected_similarity": ">0.95"
    },
    "semantic_similarity": {
      "description": "语义相似查询",
      "test_count": 100,
      "expected_similarity": ">0.8"
    },
    "cross_domain": {
      "description": "跨领域查询",
      "test_count": 80,
      "expected_similarity": ">0.6"
    },
    "multilingual": {
      "description": "多语言查询",
      "test_count": 70,
      "expected_similarity": ">0.7"
    },
    "noise_robustness": {
      "description": "噪音鲁棒性测试",
      "test_count": 50,
      "expected_similarity": ">0.7"
    }
  },
  "vector_test_cases": [
    {
      "id": "vec_001",
      "scenario": "exact_match",
      "query_text": "智能聊天机器人的主要功能包括意图识别和情感分析",
      "target_text": "智能聊天机器人的主要功能包括意图识别和情感分析",
      "expected_rank": 1,
      "expected_similarity": 1.0,
      "category": "product_features"
    },
    {
      "id": "vec_002",
      "scenario": "semantic_similarity",
      "query_text": "聊天机器人能理解用户的意图吗？",
      "target_text": "系统具备意图识别功能，能够准确理解用户需求",
      "expected_rank": 1,
      "expected_similarity": 0.85,
      "category": "capability_inquiry"
    },
    {
      "id": "vec_003",
      "scenario": "semantic_similarity",
      "query_text": "如何集成到我的网站？",
      "target_text": "网站集成可通过JavaScript SDK、iframe或API方式实现",
      "expected_rank": 1,
      "expected_similarity": 0.82,
      "category": "integration_guide"
    },
    {
      "id": "vec_004",
      "scenario": "cross_domain",
      "query_text": "系统的安全性如何？",
      "target_text": "采用HTTPS加密传输和AES-256数据加密，通过ISO27001认证",
      "expected_rank": 1,
      "expected_similarity": 0.75,
      "category": "security_features"
    },
    {
      "id": "vec_005",
      "scenario": "multilingual",
      "query_text": "What languages are supported?",
      "target_text": "支持中文、英文等20多种语言",
      "expected_rank": 1,
      "expected_similarity": 0.78,
      "category": "language_support"
    },
    {
      "id": "vec_006",
      "scenario": "noise_robustness",
      "query_text": "聊天机器人的语音功能怎么样？（有点卡顿）",
      "target_text": "语音功能支持实时语音识别和语音合成",
      "expected_rank": 1,
      "expected_similarity": 0.72,
      "category": "voice_features",
      "noise_type": "parenthetical_comment"
    }
  ],
  "similarity_test_pairs": [
    {
      "id": "sim_001",
      "text_a": "用户可以通过语音与机器人交互",
      "text_b": "系统支持语音输入和语音回复功能",
      "expected_similarity": 0.88,
      "similarity_type": "high_semantic"
    },
    {
      "id": "sim_002",
      "text_a": "API接口采用RESTful设计",
      "text_b": "系统提供REST风格的API服务",
      "expected_similarity": 0.85,
      "similarity_type": "high_semantic"
    },
    {
      "id": "sim_003",
      "text_a": "支持多轮对话和上下文理解",
      "text_b": "具备对话历史记忆和语境分析能力",
      "expected_similarity": 0.82,
      "similarity_type": "medium_semantic"
    },
    {
      "id": "sim_004",
      "text_a": "系统响应时间小于200毫秒",
      "text_b": "平均延迟控制在0.2秒以内",
      "expected_similarity": 0.90,
      "similarity_type": "high_semantic"
    },
    {
      "id": "sim_005",
      "text_a": "智能聊天机器人",
      "text_b": "今天天气很好",
      "expected_similarity": 0.15,
      "similarity_type": "low_semantic"
    },
    {
      "id": "sim_006",
      "text_a": "数据安全和隐私保护",
      "text_b": "信息安全与用户隐私",
      "expected_similarity": 0.87,
      "similarity_type": "high_semantic"
    }
  ],
  "performance_test_cases": [
    {
      "id": "perf_001",
      "test_type": "single_query",
      "vector_count": 1000,
      "query_count": 1,
      "expected_latency": "<10ms",
      "description": "单次查询性能"
    },
    {
      "id": "perf_002",
      "test_type": "batch_query",
      "vector_count": 1000,
      "query_count": 100,
      "expected_latency": "<100ms",
      "description": "批量查询性能"
    },
    {
      "id": "perf_003",
      "test_type": "concurrent_query",
      "vector_count": 10000,
      "concurrent_users": 50,
      "expected_latency": "<50ms",
      "description": "并发查询性能"
    },
    {
      "id": "perf_004",
      "test_type": "large_scale",
      "vector_count": 100000,
      "query_count": 1000,
      "expected_latency": "<100ms",
      "description": "大规模数据查询"
    }
  ],
  "edge_cases": [
    {
      "id": "edge_001",
      "scenario": "empty_query",
      "query_text": "",
      "expected_behavior": "返回错误或默认结果",
      "description": "空查询处理"
    },
    {
      "id": "edge_002",
      "scenario": "very_long_query",
      "query_text": "这是一个非常长的查询文本" + "重复内容" * 100,
      "expected_behavior": "截断或分块处理",
      "description": "超长查询处理"
    },
    {
      "id": "edge_003",
      "scenario": "special_characters",
      "query_text": "查询包含特殊字符：@#$%^&*()_+{}|:<>?[]\\;'\",./ 的内容",
      "expected_behavior": "正常处理或过滤特殊字符",
      "description": "特殊字符处理"
    },
    {
      "id": "edge_004",
      "scenario": "unicode_text",
      "query_text": "包含Unicode字符：🤖💬🔍📊🎯",
      "expected_behavior": "正确处理Unicode字符",
      "description": "Unicode字符处理"
    },
    {
      "id": "edge_005",
      "scenario": "mixed_language",
      "query_text": "中英文混合查询 mixed language query 测试",
      "expected_behavior": "正确处理多语言混合",
      "description": "混合语言查询"
    }
  ],
  "quality_metrics": [
    {
      "metric": "precision_at_1",
      "description": "Top-1结果的精确度",
      "target": ">0.9",
      "calculation": "正确的Top-1结果数 / 总查询数"
    },
    {
      "metric": "precision_at_5",
      "description": "Top-5结果的精确度",
      "target": ">0.8",
      "calculation": "Top-5中相关结果数 / (5 * 总查询数)"
    },
    {
      "metric": "recall_at_5",
      "description": "Top-5结果的召回率",
      "target": ">0.85",
      "calculation": "Top-5中相关结果数 / 总相关结果数"
    },
    {
      "metric": "mean_reciprocal_rank",
      "description": "平均倒数排名",
      "target": ">0.85",
      "calculation": "1/rank的平均值"
    },
    {
      "metric": "similarity_correlation",
      "description": "相似度与人工标注的相关性",
      "target": ">0.8",
      "calculation": "Pearson相关系数"
    }
  ],
  "test_configurations": {
    "vector_databases": [
      {
        "name": "Milvus",
        "index_type": "IVF_FLAT",
        "metric_type": "COSINE",
        "nlist": 1024
      },
      {
        "name": "Pinecone",
        "index_type": "approximated",
        "metric_type": "cosine",
        "pods": 1
      },
      {
        "name": "Weaviate",
        "index_type": "HNSW",
        "metric_type": "cosine",
        "ef_construction": 128
      }
    ],
    "embedding_models": [
      {
        "name": "text-embedding-ada-002",
        "provider": "OpenAI",
        "dimension": 1536,
        "max_tokens": 8191
      },
      {
        "name": "text-embedding-3-small",
        "provider": "OpenAI",
        "dimension": 1536,
        "max_tokens": 8191
      },
      {
        "name": "bge-large-zh-v1.5",
        "provider": "BAAI",
        "dimension": 1024,
        "max_tokens": 512
      }
    ]
  },
  "evaluation_protocol": {
    "setup": [
      "1. 初始化向量数据库",
      "2. 生成测试向量并插入",
      "3. 构建索引",
      "4. 预热系统"
    ],
    "execution": [
      "1. 执行相似度查询",
      "2. 记录返回结果和排名",
      "3. 测量查询延迟",
      "4. 收集系统资源使用情况"
    ],
    "analysis": [
      "1. 计算精确度和召回率",
      "2. 分析相似度分布",
      "3. 评估性能指标",
      "4. 识别问题案例"
    ]
  },
  "data_generation": {
    "synthetic_queries": {
      "paraphrase_generation": "使用同义词替换生成释义",
      "noise_injection": "添加拼写错误、标点符号等噪音",
      "length_variation": "生成不同长度的查询变体",
      "style_transfer": "转换正式/非正式语言风格"
    },
    "ground_truth_creation": {
      "expert_annotation": "专家标注相关性评分",
      "crowd_sourcing": "众包标注验证",
      "automatic_validation": "自动化一致性检查",
      "quality_control": "多轮质量控制流程"
    }
  },
  "benchmark_datasets": [
    {
      "name": "BEIR",
      "description": "信息检索基准数据集",
      "tasks": ["fact_verification", "citation_prediction", "duplicate_question_retrieval"]
    },
    {
      "name": "MS MARCO",
      "description": "微软机器阅读理解数据集",
      "tasks": ["passage_ranking", "document_ranking"]
    },
    {
      "name": "Natural Questions",
      "description": "Google自然问题数据集",
      "tasks": ["open_domain_qa", "passage_retrieval"]
    }
  ]
}
